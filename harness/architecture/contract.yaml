version: 1
layers:
  domain:
    paths:
      - src/domain
  application:
    paths:
      - src/application
  infrastructure:
    paths:
      - src/infrastructure
  interface:
    paths:
      - src/interface
rules:
  - from: domain
    allow: []
  - from: application
    allow:
      - domain
  - from: infrastructure
    allow:
      - domain
      - application
  - from: interface
    allow:
      - application
approved_edges:
  - from_path: src/interface
    to_path: src/infrastructure/telemetry
    reason: metrics adapter bootstrap
